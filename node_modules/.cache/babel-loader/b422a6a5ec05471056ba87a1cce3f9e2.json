{"ast":null,"code":"import _objectSpread from \"/Users/chenxi/xii/\\u4EE3\\u7801\\u533A/react-\\u5927\\u4F17\\u70B9\\u8BC4/\\u4EE3\\u7801/todo-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/chenxi/xii/\\u4EE3\\u7801\\u533A/react-\\u5927\\u4F17\\u70B9\\u8BC4/\\u4EE3\\u7801/todo-react/src/components/App.js\";\nimport React, { Component } from 'react';\nimport AddTodo from './AddTodo';\nimport TodoList from './TodoList';\nimport Footer from './Footer';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getVisibleTodos = () => {\n      const currentFilter = this.state.filter;\n      return this.state.todos.filter(item => {\n        if (currentFilter === 'active') {\n          return !item.completed;\n        } else if (currentFilter === 'completed') {\n          return item.completed;\n        } else {\n          return true;\n        }\n      });\n    };\n\n    this.addTodo = text => {\n      const todo = {\n        id: this.nextTodoId++,\n        text,\n        completed: false\n      };\n      const newTodos = [todos, ...this.state.todos];\n      this.setState({\n        todos: newTodos\n      });\n\n      toggleTodo = id => {\n        const newTodos = this.state.todos.map(item => {\n          return item.id === id ? _objectSpread({}, item, {\n            completed: !item.completed\n          }) : item;\n        });\n        this.setState({\n          todos: newTodos\n        });\n      };\n\n      setVisibilityFilter = filter => {\n        this.setState({\n          filter\n        });\n      };\n    };\n\n    this.state = {\n      todos: [],\n      filter: 'all'\n    };\n    this.nextTodoId = 0;\n  }\n\n  render() {\n    const todos = this.getVisibleTodos();\n    const filter = this.props.filter;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(AddTodo, {\n      addTodo: this.addTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }), React.createElement(TodoList, {\n      todos: todos,\n      toggleTodo: this.toggleTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      filter: filter,\n      setVisibilityFilter: this.setVisibilityFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/chenxi/xii/代码区/react-大众点评/代码/todo-react/src/components/App.js"],"names":["React","Component","AddTodo","TodoList","Footer","App","constructor","props","getVisibleTodos","currentFilter","state","filter","todos","item","completed","addTodo","text","todo","id","nextTodoId","newTodos","setState","toggleTodo","map","setVisibilityFilter","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;AAC1BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAwBnBC,eAxBmB,GAwBD,MAAM;AACtB,YAAMC,aAAa,GAAG,KAAKC,KAAL,CAAWC,MAAjC;AACA,aAAO,KAAKD,KAAL,CAAWE,KAAX,CAAiBD,MAAjB,CAAwBE,IAAI,IAAI;AACrC,YAAIJ,aAAa,KAAK,QAAtB,EAAgC;AAC9B,iBAAO,CAACI,IAAI,CAACC,SAAb;AACD,SAFD,MAEO,IAAIL,aAAa,KAAK,WAAtB,EAAmC;AACxC,iBAAOI,IAAI,CAACC,SAAZ;AACD,SAFM,MAEA;AACL,iBAAO,IAAP;AACD;AACF,OARM,CAAP;AASD,KAnCkB;;AAAA,SAqCnBC,OArCmB,GAqCTC,IAAI,IAAI;AAChB,YAAMC,IAAI,GAAG;AACXC,QAAAA,EAAE,EAAE,KAAKC,UAAL,EADO;AAEXH,QAAAA,IAFW;AAGXF,QAAAA,SAAS,EAAE;AAHA,OAAb;AAKA,YAAMM,QAAQ,GAAG,CAACR,KAAD,EAAQ,GAAG,KAAKF,KAAL,CAAWE,KAAtB,CAAjB;AACA,WAAKS,QAAL,CAAc;AACZT,QAAAA,KAAK,EAAEQ;AADK,OAAd;;AAIAE,MAAAA,UAAU,GAAGJ,EAAE,IAAI;AACjB,cAAME,QAAQ,GAAG,KAAKV,KAAL,CAAWE,KAAX,CAAiBW,GAAjB,CAAqBV,IAAI,IAAI;AAC5C,iBAAOA,IAAI,CAACK,EAAL,KAAYA,EAAZ,qBAAsBL,IAAtB;AAA4BC,YAAAA,SAAS,EAAE,CAACD,IAAI,CAACC;AAA7C,eAA2DD,IAAlE;AACD,SAFgB,CAAjB;AAGA,aAAKQ,QAAL,CAAc;AACZT,UAAAA,KAAK,EAAEQ;AADK,SAAd;AAGD,OAPD;;AASAI,MAAAA,mBAAmB,GAAGb,MAAM,IAAI;AAC9B,aAAKU,QAAL,CAAc;AACZV,UAAAA;AADY,SAAd;AAGD,OAJD;AAKD,KA9DkB;;AAEjB,SAAKD,KAAL,GAAa;AACXE,MAAAA,KAAK,EAAE,EADI;AAEXD,MAAAA,MAAM,EAAE;AAFG,KAAb;AAIA,SAAKQ,UAAL,GAAkB,CAAlB;AACD;;AAEDM,EAAAA,MAAM,GAAG;AACP,UAAMb,KAAK,GAAG,KAAKJ,eAAL,EAAd;AADO,UAECG,MAFD,GAEY,KAAKJ,KAFjB,CAECI,MAFD;AAGP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,KAAKI,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAEH,KAAjB;AAAwB,MAAA,UAAU,EAAE,KAAKU,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAEX,MADV;AAEE,MAAA,mBAAmB,EAAE,KAAKa,mBAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAUD;;AAvByB;;AAkE5B,eAAenB,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport AddTodo from './AddTodo';\nimport TodoList from './TodoList';\nimport Footer from './Footer';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      todos: [],\n      filter: 'all'\n    };\n    this.nextTodoId = 0;\n  }\n\n  render() {\n    const todos = this.getVisibleTodos();\n    const { filter } = this.props;\n    return (\n      <div>\n        <AddTodo addTodo={this.addTodo} />\n        <TodoList todos={todos} toggleTodo={this.toggleTodo} />\n        <Footer\n          filter={filter}\n          setVisibilityFilter={this.setVisibilityFilter}\n        />\n      </div>\n    );\n  }\n\n  getVisibleTodos = () => {\n    const currentFilter = this.state.filter;\n    return this.state.todos.filter(item => {\n      if (currentFilter === 'active') {\n        return !item.completed;\n      } else if (currentFilter === 'completed') {\n        return item.completed;\n      } else {\n        return true;\n      }\n    });\n  };\n\n  addTodo = text => {\n    const todo = {\n      id: this.nextTodoId++,\n      text,\n      completed: false\n    };\n    const newTodos = [todos, ...this.state.todos];\n    this.setState({\n      todos: newTodos\n    });\n\n    toggleTodo = id => {\n      const newTodos = this.state.todos.map(item => {\n        return item.id === id ? { ...item, completed: !item.completed } : item;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    setVisibilityFilter = filter => {\n      this.setState({\n        filter\n      });\n    };\n  };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}