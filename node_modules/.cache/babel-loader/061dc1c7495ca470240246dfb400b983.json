{"ast":null,"code":"import _objectSpread from \"/Users/chenxi/xii/\\u4EE3\\u7801\\u533A/react-\\u5927\\u4F17\\u70B9\\u8BC4/\\u4EE3\\u7801/todo-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/chenxi/xii/\\u4EE3\\u7801\\u533A/react-\\u5927\\u4F17\\u70B9\\u8BC4/\\u4EE3\\u7801/todo-react/src/components/App.js\";\nimport React, { Component } from 'react';\nimport AddTodo from './AddTodo';\nimport TodoList from './TodoList';\nimport Footer from './Footer';\nconst todos = [{\n  id: 1,\n  text: '学习React',\n  completed: true\n}, {\n  id: 2,\n  text: '学习Redux',\n  completed: false\n}, {\n  id: 3,\n  text: '学习React-router',\n  completed: false\n}];\nconst filter = 'all';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getVisibleTodos = () => {\n      const currentFilter = this.state.filter;\n      return this.state.todos.filter(item => {\n        if (currentFilter === 'active') {\n          return !item.completed;\n        } else if (currentFilter === 'completed') {\n          return item.completed;\n        } else {\n          return true;\n        }\n      });\n    };\n\n    this.addTodo = text => {\n      const todo = {\n        id: this.nextTodoId++,\n        text,\n        completed: false\n      };\n      const newTodos = [todos, ...this.state.todos];\n      this.setState({\n        todos: newTodos\n      });\n\n      toggleTodo = id => {\n        const newTodos = this.state.todos.map(item => {\n          return item.id === id ? _objectSpread({}, item, {\n            completed: !item.completed\n          }) : item;\n        });\n        this.setState({\n          todos: newTodos\n        });\n      };\n\n      setVisibilityFilter = filter => {\n        this.setState({\n          filter\n        });\n      };\n    };\n\n    this.state = {\n      todos: [],\n      filter: 'all'\n    };\n    this.nextTodoId = 0;\n  }\n\n  render() {\n    const todos = this.getVisibleTodos();\n    const filter = this.props.filter;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(AddTodo, {\n      addTodo: this.addTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(TodoList, {\n      todos: todos,\n      toggleTodo: this.toggleTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      filter: filter,\n      setVisibilityFilter: this.setVisibilityFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/chenxi/xii/代码区/react-大众点评/代码/todo-react/src/components/App.js"],"names":["React","Component","AddTodo","TodoList","Footer","todos","id","text","completed","filter","App","constructor","props","getVisibleTodos","currentFilter","state","item","addTodo","todo","nextTodoId","newTodos","setState","toggleTodo","map","setVisibilityFilter","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,MAAMC,KAAK,GAAG,CACZ;AACEC,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAE;AAHb,CADY,EAMZ;AACEF,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAE;AAHb,CANY,EAWZ;AACEF,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE,gBAFR;AAGEC,EAAAA,SAAS,EAAE;AAHb,CAXY,CAAd;AAkBA,MAAMC,MAAM,GAAG,KAAf;;AAEA,MAAMC,GAAN,SAAkBT,SAAlB,CAA4B;AAC1BU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAwBnBC,eAxBmB,GAwBD,MAAM;AACtB,YAAMC,aAAa,GAAG,KAAKC,KAAL,CAAWN,MAAjC;AACA,aAAO,KAAKM,KAAL,CAAWV,KAAX,CAAiBI,MAAjB,CAAwBO,IAAI,IAAI;AACrC,YAAIF,aAAa,KAAK,QAAtB,EAAgC;AAC9B,iBAAO,CAACE,IAAI,CAACR,SAAb;AACD,SAFD,MAEO,IAAIM,aAAa,KAAK,WAAtB,EAAmC;AACxC,iBAAOE,IAAI,CAACR,SAAZ;AACD,SAFM,MAEA;AACL,iBAAO,IAAP;AACD;AACF,OARM,CAAP;AASD,KAnCkB;;AAAA,SAqCnBS,OArCmB,GAqCTV,IAAI,IAAI;AAChB,YAAMW,IAAI,GAAG;AACXZ,QAAAA,EAAE,EAAE,KAAKa,UAAL,EADO;AAEXZ,QAAAA,IAFW;AAGXC,QAAAA,SAAS,EAAE;AAHA,OAAb;AAKA,YAAMY,QAAQ,GAAG,CAACf,KAAD,EAAQ,GAAG,KAAKU,KAAL,CAAWV,KAAtB,CAAjB;AACA,WAAKgB,QAAL,CAAc;AACZhB,QAAAA,KAAK,EAAEe;AADK,OAAd;;AAIAE,MAAAA,UAAU,GAAGhB,EAAE,IAAI;AACjB,cAAMc,QAAQ,GAAG,KAAKL,KAAL,CAAWV,KAAX,CAAiBkB,GAAjB,CAAqBP,IAAI,IAAI;AAC5C,iBAAOA,IAAI,CAACV,EAAL,KAAYA,EAAZ,qBAAsBU,IAAtB;AAA4BR,YAAAA,SAAS,EAAE,CAACQ,IAAI,CAACR;AAA7C,eAA2DQ,IAAlE;AACD,SAFgB,CAAjB;AAGA,aAAKK,QAAL,CAAc;AACZhB,UAAAA,KAAK,EAAEe;AADK,SAAd;AAGD,OAPD;;AASAI,MAAAA,mBAAmB,GAAGf,MAAM,IAAI;AAC9B,aAAKY,QAAL,CAAc;AACZZ,UAAAA;AADY,SAAd;AAGD,OAJD;AAKD,KA9DkB;;AAEjB,SAAKM,KAAL,GAAa;AACXV,MAAAA,KAAK,EAAE,EADI;AAEXI,MAAAA,MAAM,EAAE;AAFG,KAAb;AAIA,SAAKU,UAAL,GAAkB,CAAlB;AACD;;AAEDM,EAAAA,MAAM,GAAG;AACP,UAAMpB,KAAK,GAAG,KAAKQ,eAAL,EAAd;AADO,UAECJ,MAFD,GAEY,KAAKG,KAFjB,CAECH,MAFD;AAGP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,KAAKQ,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAEZ,KAAjB;AAAwB,MAAA,UAAU,EAAE,KAAKiB,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAEb,MADV;AAEE,MAAA,mBAAmB,EAAE,KAAKe,mBAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAUD;;AAvByB;;AAkE5B,eAAed,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport AddTodo from './AddTodo';\nimport TodoList from './TodoList';\nimport Footer from './Footer';\n\nconst todos = [\n  {\n    id: 1,\n    text: '学习React',\n    completed: true\n  },\n  {\n    id: 2,\n    text: '学习Redux',\n    completed: false\n  },\n  {\n    id: 3,\n    text: '学习React-router',\n    completed: false\n  }\n];\n\nconst filter = 'all';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      todos: [],\n      filter: 'all'\n    };\n    this.nextTodoId = 0;\n  }\n\n  render() {\n    const todos = this.getVisibleTodos();\n    const { filter } = this.props;\n    return (\n      <div>\n        <AddTodo addTodo={this.addTodo} />\n        <TodoList todos={todos} toggleTodo={this.toggleTodo} />\n        <Footer\n          filter={filter}\n          setVisibilityFilter={this.setVisibilityFilter}\n        />\n      </div>\n    );\n  }\n\n  getVisibleTodos = () => {\n    const currentFilter = this.state.filter;\n    return this.state.todos.filter(item => {\n      if (currentFilter === 'active') {\n        return !item.completed;\n      } else if (currentFilter === 'completed') {\n        return item.completed;\n      } else {\n        return true;\n      }\n    });\n  };\n\n  addTodo = text => {\n    const todo = {\n      id: this.nextTodoId++,\n      text,\n      completed: false\n    };\n    const newTodos = [todos, ...this.state.todos];\n    this.setState({\n      todos: newTodos\n    });\n\n    toggleTodo = id => {\n      const newTodos = this.state.todos.map(item => {\n        return item.id === id ? { ...item, completed: !item.completed } : item;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    setVisibilityFilter = filter => {\n      this.setState({\n        filter\n      });\n    };\n  };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}